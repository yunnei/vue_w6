{"version":3,"file":"js/175.8d20ea25.js","mappings":"0GAAe,WAASA,GAAG,MAAM,CAACC,IAAID,EAAEA,GAAG,IAAIE,IAAIC,GAAG,SAASC,EAAEC,GAAG,IAAIC,EAAEN,EAAEO,IAAIH,GAAGE,EAAEA,EAAEE,KAAKH,GAAGL,EAAES,IAAIL,EAAE,CAACC,KAAKK,IAAI,SAASN,EAAEC,GAAG,IAAIC,EAAEN,EAAEO,IAAIH,GAAGE,IAAID,EAAEC,EAAEK,OAAOL,EAAEM,QAAQP,KAAK,EAAE,GAAGL,EAAES,IAAIL,EAAE,MAAMS,KAAK,SAAST,EAAEC,GAAG,IAAIC,EAAEN,EAAEO,IAAIH,GAAGE,GAAGA,EAAEQ,QAAQC,KAAI,SAASf,GAAGA,EAAEK,OAAMC,EAAEN,EAAEO,IAAI,OAAOD,EAAEQ,QAAQC,KAAI,SAASf,GAAGA,EAAEI,EAAEC,Q,gCCEnT,MAAMW,EAAUC,IAEhB,S,gGCHOC,MAAM,a,GACTC,EAAAA,EAAAA,GAA0B,MAAtBD,MAAM,QAAO,QAAI,G,GAChBA,MAAM,yC,GAEFA,MAAM,c,mBAMJA,MAAM,a,GACLA,MAAM,c,GAEPA,MAAM,iC,WAIN,Q,mGAjBbE,EAAAA,EAAAA,IA+BM,MA/BN,EA+BM,CA9BJC,GACAF,EAAAA,EAAAA,GA4BM,MA5BN,EA4BM,gBA3BJC,EAAAA,EAAAA,IA0BME,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IA1B6BC,EAAAA,UAAXC,K,WAAxBL,EAAAA,EAAAA,IA0BM,OA1BDF,MAAM,MAAmCQ,IAAKD,EAAQE,IAA3D,EACER,EAAAA,EAAAA,GAwBM,MAxBN,EAwBM,EAvBJA,EAAAA,EAAAA,GAIE,OAHCS,IAAKH,EAAQI,SACdX,MAAM,eACLY,IAAKL,EAAQM,OAHhB,WAKAZ,EAAAA,EAAAA,GAEM,MAFN,EAEM,EADJA,EAAAA,EAAAA,GAA+C,KAA/C,GAA+Ca,EAAAA,EAAAA,IAArBP,EAAQM,OAAK,MAEzCZ,EAAAA,EAAAA,GAcM,MAdN,EAcM,EAbJc,EAAAA,EAAAA,IAICC,EAAA,CAHEC,GAAE,YAAcV,EAAQE,KACzBT,MAAM,kCAFR,C,kBAGG,IAAI,M,KAHP,cAKAC,EAAAA,EAAAA,GAOS,UANPiB,KAAK,SACLlB,MAAM,kBACLmB,QAAK,GAAEC,EAAAA,UAAUb,EAAQE,IACzBY,SAAUf,EAAAA,gBAAkBC,EAAQE,IACtC,UAED,EAAAa,YAvBN,U,aAiCN,GACEC,OACE,MAAO,CACLC,SAAU,GACVC,cAAe,KAGnBC,QAAS,CACPC,cACE,MAAMC,EAAO,iEACbC,KAAKC,MACFzC,IAAIuC,GACJG,MAAMC,IACLH,KAAKL,SAAWQ,EAAIT,KAAKC,YAE1BS,OAAOC,IACNC,QAAQC,IAAIF,EAAMG,SAASd,UAGjCe,UAAU7B,GACR,MAAMmB,EAAO,yDACPL,EAAO,CACXA,KAAM,CACJgB,WAAY9B,EACZ+B,IAAK,IAGTX,KAAKJ,cAAgBhB,EACrBoB,KAAKC,MACFW,KAAKb,EAAKL,GACVQ,MAAK,KACJF,KAAKJ,cAAgB,GACrB3B,EAAAA,EAAAA,KAAa,eAEdmC,OAAOC,IACNC,QAAQC,IAAIF,EAAMG,SAASd,WAInCmB,UACEb,KAAKF,gB,SCxET,MAAMgB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://vue_w6/./node_modules/mitt/dist/mitt.mjs","webpack://vue_w6/./src/libs/emitter.js","webpack://vue_w6/./src/views/ProductsView.vue","webpack://vue_w6/./src/views/ProductsView.vue?91db"],"sourcesContent":["export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","import mitt from \"mitt\";\n\nconst emitter = mitt();\n\nexport default emitter;\n","<template>\n  <div class=\"container\">\n    <h1 class=\"mt-4\">產品列表</h1>\n    <div class=\"row row-cols-1 row-cols-md-3 g-3 mb-3\">\n      <div class=\"col\" v-for=\"product in products\" :key=\"product.id\">\n        <div class=\"card h-100\">\n          <img\n            :src=\"product.imageUrl\"\n            class=\"card-img-top\"\n            :alt=\"product.title\"\n          />\n          <div class=\"card-body\">\n            <h5 class=\"card-title\">{{ product.title }}</h5>\n          </div>\n          <div class=\"card-footer bg-white text-end\">\n            <router-link\n              :to=\"`/product/${product.id}`\"\n              class=\"btn btn-outline-secondary mx-2\"\n              >查看更多</router-link\n            >\n            <button\n              type=\"button\"\n              class=\"btn btn-primary\"\n              @click=\"addToCart(product.id)\"\n              :disabled=\"isLoadingItem === product.id\"\n            >\n              加入購物車\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport emitter from \"@/libs/emitter\";\n\nexport default {\n  data() {\n    return {\n      products: [],\n      isLoadingItem: \"\",\n    };\n  },\n  methods: {\n    getProducts() {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PAITH}/products/all`;\n      this.$http\n        .get(url)\n        .then((res) => {\n          this.products = res.data.products;\n        })\n        .catch((error) => {\n          console.log(error.response.data);\n        });\n    },\n    addToCart(id) {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PAITH}/cart`;\n      const data = {\n        data: {\n          product_id: id,\n          qty: 1,\n        },\n      };\n      this.isLoadingItem = id;\n      this.$http\n        .post(url, data)\n        .then(() => {\n          this.isLoadingItem = \"\";\n          emitter.emit(\"get-cart\");\n        })\n        .catch((error) => {\n          console.log(error.response.data);\n        });\n    },\n  },\n  mounted() {\n    this.getProducts();\n  },\n};\n</script>\n","import { render } from \"./ProductsView.vue?vue&type=template&id=2eb84586\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\OneDrive\\\\桌面\\\\vue_w6\\\\vue_w6\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["n","all","Map","on","t","e","i","get","push","set","off","splice","indexOf","emit","slice","map","emitter","mitt","class","_createElementVNode","_createElementBlock","_hoisted_2","_Fragment","_renderList","$data","product","key","id","src","imageUrl","alt","title","_toDisplayString","_createVNode","_component_router_link","to","type","onClick","$options","disabled","_hoisted_10","data","products","isLoadingItem","methods","getProducts","url","this","$http","then","res","catch","error","console","log","response","addToCart","product_id","qty","post","mounted","__exports__","render"],"sourceRoot":""}