"use strict";(self["webpackChunkvue_w6"]=self["webpackChunkvue_w6"]||[]).push([[175],{530:function(t,s,o){function e(t){return{all:t=t||new Map,on:function(s,o){var e=t.get(s);e?e.push(o):t.set(s,[o])},off:function(s,o){var e=t.get(s);e&&(o?e.splice(e.indexOf(o)>>>0,1):t.set(s,[]))},emit:function(s,o){var e=t.get(s);e&&e.slice().map((function(t){t(o)})),(e=t.get("*"))&&e.slice().map((function(t){t(s,o)}))}}}o.d(s,{Z:function(){return i}});const c=e();var i=c},175:function(t,s,o){o.r(s),o.d(s,{default:function(){return _}});var e=o(252),c=o(577);const i={class:"container"},n=(0,e._)("h1",{class:"mt-4"},"產品列表",-1),a={class:"row row-cols-1 row-cols-md-3 g-3 mb-3"},r={class:"card h-100"},d=["src","alt"],u={class:"card-body"},l={class:"card-title"},p={class:"card-footer bg-white text-end"},h=(0,e.Uk)("查看更多"),g=["onClick","disabled"];function f(t,s,o,f,m,v){const w=(0,e.up)("router-link");return(0,e.wg)(),(0,e.iD)("div",i,[n,(0,e._)("div",a,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(m.products,(t=>((0,e.wg)(),(0,e.iD)("div",{class:"col",key:t.id},[(0,e._)("div",r,[(0,e._)("img",{src:t.imageUrl,class:"card-img-top",alt:t.title},null,8,d),(0,e._)("div",u,[(0,e._)("h5",l,(0,c.zw)(t.title),1)]),(0,e._)("div",p,[(0,e.Wm)(w,{to:`/product/${t.id}`,class:"btn btn-outline-secondary mx-2"},{default:(0,e.w5)((()=>[h])),_:2},1032,["to"]),(0,e._)("button",{type:"button",class:"btn btn-primary",onClick:s=>v.addToCart(t.id),disabled:m.isLoadingItem===t.id}," 加入購物車 ",8,g)])])])))),128))])])}var m=o(530),v={data(){return{products:[],isLoadingItem:""}},methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/v2/api/yunei/products/all";this.$http.get(t).then((t=>{this.products=t.data.products})).catch((t=>{console.log(t.response.data)}))},addToCart(t){const s="https://vue3-course-api.hexschool.io/v2/api/yunei/cart",o={data:{product_id:t,qty:1}};this.isLoadingItem=t,this.$http.post(s,o).then((()=>{this.isLoadingItem="",m.Z.emit("get-cart")})).catch((t=>{console.log(t.response.data)}))}},mounted(){this.getProducts()}},w=o(744);const b=(0,w.Z)(v,[["render",f]]);var _=b}}]);
//# sourceMappingURL=175.8d20ea25.js.map